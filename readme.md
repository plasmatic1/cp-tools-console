# CP-Tools Console Version

!!! Module has not been published to PyPl !!!

Run `python3 setup.py develop` to install the module in development mode.

# Basic Commands

Arguments (both required and optional) can be seen by running `<command> --help`

- `cptools-run`
    - Aliases: `cprun`, `cpr`
    - Runs a given source file (compiling if necessary) on a set of test data.
- `cptools-companion-server`
    - Aliases: `cpserv`
    - Opens a HTTP server to listen for requests from `competitive-companion`
        - Automatically uses those to create sample files

## Stress Testing

Automatic stress-testing is also available with the ...

TODO
   
# Configuration

Workspace-level configuration is available at `.cptools/config.yml` in the current workspace.  This file is automatically generated 
when a command is run if the file does not exist already.

To reset the config, simply delete the file and run a command.

## Executors

Executors are defined in a `.cptools/executors.yml` file in the current workspace.  If it does not exist, a default one will be generated
and used.  The default executors file can be seen in the repository under `cptools/local_data/default_executors.yml`.

Note: Leaving `compiled.exe_format` as `{src_name}.exe` still works fine on Linux based systems.

The executor format is as follows:

### For Compiled Languages

```
cpp-debug:
  ext: ['cpp', 'cxx', 'cc']
  compiled:
    command: ['g++', '-DLOCAL', '-Wall', '-Wshift-overflow=2', '-D_GLIBCXX_DEBUG', '-D_GLIBCXX_DEBUG_PEDANTIC', '-D_FORTIFY_SOURCE=2', '-fsanitize=address', '-fsanitize=undefined', '-fno-sanitize-recover', '-fstack-protector', '-o', '{exe_path}', '{src_path}']
    exe_format: '{src_name}.exe'
  command: ['./{exe_path}']
```

- `ext`: File extensions that this executor supports
    - Also used when determining the default executor for a source file
- `compiled`:
    - `command`: Compilation command
    - `exe_format`: Format for the 
- `command`: Command used to run the source file

### For Interpreted Languages

```
py:
  ext: ['py']
  command: ['python3', '{src_path}']
```

- `ext`: File extensions that this executor supports
    - Also used when determining the default executor for a source file
- `command`: Command used to run the source file

### Format Substitutions

Substitutions are also available for the `compiled.command`, `command`, and `compiled.exe_format` options.  These substitutions
use the `str.format` method with the following keyword substitutions.

- `src_path`: Path to the source file
- `src_name`: `src_path` but without the file extension
- `exe_path`: Path to the executable file
    - Value of the `compiled.exe_format` option after performing substitutions
    - Equal to `src_path` for interpreted languages

## TODO List

- Retrieving previous results
    - `cptools-view`
        - Options:
            - `-p --prev`: Look at previous result only
            - `-l --list`: List all results stored
            - `-c --clear`: Clear previous results
            - `-i --id <id>`: ID
- autogenerate files
    - i.e. Task files (A,B,C,D,...)
    - `cptools-make <name>`
        - Aliases: `cpmake`, `cpm`
        - `-s --gen-src` - Make source files
        - `-ul --use-letters` - Name 
        
